{% extends "layout.html" %}
{% block content %}
    <div class="main_paige content">

    <div class="container cat_cont">
        <!--Categories-->
        <h3>Categories:  </h3>
        <div class="row scrollmenu">
            {% for cat in categories %}
                <div class="col-xs-4">
                    <a href="{{ url_for('recommender_comp.display_category', category=cat) }}">
                        <div class="cat">
                            <p>{{ cat }}</p>
                        </div>
                    </a>
                </div>
            {% endfor %}
         </div>
    </div>
    <div class="container recipe_cont">
        <!--Matrix factorisation-->
        <h3>Users like you also liked: </h3>
        <div class="row">
            {% for key,value in recommendations.iterrows() %}
                <div class="col-xs-4">
                    <a href="{{ url_for('recommender_comp.recipe_details', recipe_id=value['id']) }}">
                      <div class=" recipe_item" style="background-image: url('{{ value['photo_url'] }}');">
                      </div>
                        <div class="caption">
                            <p>{{ value['title'] }}</p>
                        </div>
                    </a>
                </div>
            {% endfor %}
         </div>

        <!-- Content based -->
        <h3>Because you liked {{ last_rated_title }}: </h3>
        <div class="row">
            {% for key,value in recommender_tfidf_recipes.iterrows() %}
                <div class="col-xs-4">
                    <a href="{{ url_for('recommender_comp.recipe_details', recipe_id=value['id']) }}">
                      <div class=" recipe_item" style="background-image: url('{{ value['photo_url'] }}');">
                      </div>
                        <div class="caption">
                            <p>{{ value['title'] }}</p>
                        </div>
                    </a>
                </div>
            {% endfor %}
         </div>


        <!--Popular-->
        <h3>Popular recipes: </h3>
        <div class="row scrollmenu">
            {% for key,value in popular_recipes.iterrows() %}
            <div class="col-xs-4">
                <a href="{{ url_for('recommender_comp.recipe_details', recipe_id=value['id']) }}">
                    <div class="recipe_item" style="background-image: url('{{ value.photo_url }}');">
                    </div>
                    <div class="caption">
                      <p>{{ value.title }}</p>
                    </div>
                </a>
            </div>
            {% endfor %}
         </div>
    </div>



<!--    Old table
        <table>
            <tr>
                <th>Title</th>
                <th>Category</th>
                <th>Rating</th>
            </tr>
            {% for key,value in recommendations.iterrows() %}
            <tr>
                <td> <option value="{{ recommendations[['recipes_id']] }}">{{ value['title'] }}</option> </td>
                <td> <option value="{{ recommendations[['recipes_id']] }}">{{ value['category'] }}</option> </td>
                <td> <option value="{{ recommendations[['recipes_id']] }}">{{ value['rating'] }}</option> </td>
            </tr>
            {% endfor %}
        </table>-->


    </div>
{% endblock %}